/*!
 * @xl-form-create/ant-design-vue v1.0.20
 * (c) 2018-2021 xaboy
 * Github https://github.com/xaboy/form-create
 * Released under the MIT License.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@xl-form-create/utils"),require("@xl-form-create/core"),require("moment")):"function"==typeof define&&define.amd?define(["exports","@xl-form-create/utils","@xl-form-create/core","moment"],t):t((e=e||self).formCreate={},e.utils,e.createFormCreate,e.moment)}(this,function(e,t,n,r){"use strict";var i="default"in n?n.default:n;function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(n,!0).forEach(function(t){u(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function y(){return(y=Object.assign||function(e){for(var t,n=1;n<arguments.length;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)}r=r&&r.hasOwnProperty("default")?r.default:r;var v=["attrs","props","domProps"],k=["class","style","directives"],g=["on","nativeOn"],b=function(e,t){return function(){e&&e.apply(this,arguments),t&&t.apply(this,arguments)}},w=function(e){return e.reduce(function(e,t){for(var n in t)if(e[n])if(-1!==v.indexOf(n))e[n]=y({},e[n],t[n]);else if(-1!==k.indexOf(n)){var r=e[n]instanceof Array?e[n]:[e[n]],i=t[n]instanceof Array?t[n]:[t[n]];e[n]=r.concat(i)}else if(-1!==g.indexOf(n))for(var o in t[n])if(e[n][o]){var a=e[n][o]instanceof Array?e[n][o]:[e[n][o]],s=t[n][o]instanceof Array?t[n][o]:[t[n][o]];e[n][o]=a.concat(s)}else e[n][o]=t[n][o];else if("hook"==n)for(var u in t[n])e[n][u]=e[n][u]?b(e[n][u],t[n][u]):t[n][u];else e[n]=t[n];else e[n]=t[n];return e},{})};var x="fc-upload-btn",$="fc-files",F="__fc_h",I="__fc_v",O="fc-upload",P="fc-upload-cover",R="fc-hide-btn";!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}(".fc-upload-btn, .fc-files {\n    display: inline-block;\n    width: 104px;\n    height: 104px;\n    text-align: center;\n    line-height: 104px;\n    border: 1px solid #c0ccda;\n    border-radius: 4px;\n    overflow: hidden;\n    background: #fff;\n    position: relative;\n    box-shadow: 2px 2px 5px rgba(0, 0, 0, .1);\n    margin-right: 4px;\n    box-sizing: border-box;\n}\n\n.form-create .form-create .ant-form-item {\n    margin-bottom: 22px;\n}\n\n.form-create .form-create .ant-form-item .ant-form-item {\n    margin-bottom: 0px;\n}\n\n.form-create .form-create .ant-form-item.ant-form-item-with-help {\n    margin-bottom: 3px;\n}\n\n.form-create .form-create .ant-form-item .ant-form-item.ant-form-item-with-help {\n    margin-bottom: -22px;\n}\n\n.form-create .__fc_h {\n    display: none;\n}\n\n.form-create .__fc_v {\n    visibility: hidden;\n}\n\n.fc-files img {\n    width: 100%;\n    height: 100%;\n    display: inline-block;\n    vertical-align: top;\n}\n\n.fc-upload .fc-upload-cover {\n    opacity: 0;\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    background: rgba(0, 0, 0, .6);\n    transition: opacity .3s;\n}\n\n.fc-upload .fc-upload-cover i {\n    color: #fff;\n    font-size: 20px;\n    cursor: pointer;\n    margin: 0 2px;\n}\n\n.fc-files:hover .fc-upload-cover {\n    opacity: 1;\n}\n\n.fc-upload .ant-upload {\n    display: block;\n}\n\n.fc-hide-btn .ant-upload {\n    display: none;\n}\n");var A=function(e,t){return{url:e,name:B(e),status:"done",uid:t+1}},B=function(e){return t.toString(e).split("/").pop()},C=function(e){return{url:e.url,file:e}},S={name:"fc-antd-update",props:{limit:{type:Number,default:0},ctx:{type:Object,default:function(){return{props:{}}}},children:{type:Array,default:function(){return[]}},value:{type:Array,default:function(){return[]}},onSuccess:{type:Function,required:!0},onHandle:{type:Function,default:function(e){this.previewImage=e.url,this.previewVisible=!0}},modalTitle:String,previewMask:void 0},data:function(){var e=this.value.map(A);return{defaultUploadList:e,previewImage:"",previewVisible:!1,uploadList:e.map(C)}},watch:{value:function(e){var t=e.map(A);this.$refs.upload.sFileList=t,this.uploadList=t.map(C)}},methods:{initChildren:function(){t.hasSlot(this.children,"default")||this.children.push(this.makeBtn())},makeBtn:function(){var e=this.$createElement;return e("div",[e("AIcon",{attrs:{type:"plus"}})])},handleChange:function(e){var t=e.file,n=e.fileList,r=this.uploadList;"done"===t.status?(this.onSuccess(t,n),t.url&&r.push({url:t.url,file:n[n.length-1]}),this.input()):"removed"===t.status&&(r.forEach(function(e,n){e.file===t&&r.splice(n,1)}),this.input())},input:function(){this.$emit("input",this.uploadList.map(function(e){return e.url}))}},render:function(){var e=this,n=arguments[0],r=!this.limit||this.limit>this.uploadList.length;this.initChildren();var i=c({},this.ctx);return i.on=t.deepExtend({},i.on||{}),n("div",{class:u({},R,!r)},[n("AUpload",w([{},i,{on:{preview:this.onHandle.bind(this),change:this.handleChange},ref:"upload",attrs:{defaultFileList:this.defaultUploadList}}]),[this.children]),n("aModal",{attrs:{mask:this.previewMask,title:this.modalTitle,footer:null},model:{value:e.previewVisible,callback:function(t){e.previewVisible=t}}},[n("img",{style:"width: 100%",attrs:{src:this.previewImage}})])])}},N="fc-antd-frame",T=[S,{name:N,props:{type:{type:String,default:"input"},field:{type:String,default:""},helper:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},src:{type:String,required:!0},icon:{type:String,default:"folder"},width:{type:[Number,String],default:500},height:{type:[Number,String],default:370},maxLength:{type:Number,default:0},okBtnText:{type:String,default:"确定"},closeBtnText:{type:String,default:"关闭"},modalTitle:String,handleIcon:{type:[String,Boolean],default:void 0},title:String,allowRemove:{type:Boolean,default:!0},onOpen:{type:Function,default:function(){}},onOk:{type:Function,default:function(){}},onCancel:{type:Function,default:function(){}},onLoad:{type:Function,default:function(){}},onBeforeRemove:{type:Function,default:function(){}},onRemove:{type:Function,default:function(){}},onHandle:{type:Function,default:function(e){this.previewImage=this.getSrc(e),this.previewVisible=!0}},modal:{type:Object,default:function(){return{}}},srcKey:{type:[String,Number]},value:[Array,String,Number,Object],previewMask:void 0,footer:{type:Boolean,default:!0},reload:{type:Boolean,default:!0},closeBtn:{type:Boolean,default:!0},okBtn:{type:Boolean,default:!0}},data:function(){return{fileList:t.toArray(this.value),unique:t.uniqueId(),previewVisible:!1,frameVisible:!1,previewImage:""}},watch:{value:function(e){this.fileList=t.toArray(e)},fileList:function(e){var t=1===this.maxLength?e[0]||"":e;this.$emit("input",t),this.$emit("change",t)}},methods:{key:function(e){return N+e+this.unique},closeModel:function(e){this.$emit(e?"$close":"$ok"),this.reload&&(this.$off("$ok"),this.$off("$close")),this.frameVisible=!1},showModel:function(){this.disabled||!1===this.onOpen()||(this.frameVisible=!0)},makeInput:function(){var e=this,t=this.$createElement,n={type:"text",value:this.fileList.map(function(t){return e.getSrc(t)}).toString(),readonly:!0};return t("AInput",w([{},{props:n},{key:this.key("input")}]),[t("AIcon",{attrs:{type:this.icon},slot:"addonAfter",on:{click:this.showModel}}),this.fileList.length?t("AIcon",{attrs:{type:"close-circle"},slot:"suffix",on:{click:function(){return e.fileList=[]}}}):null])},makeGroup:function(e){var t=this.$createElement;return(!this.maxLength||this.fileList.length<this.maxLength)&&e.push(this.makeBtn()),t("div",{class:O,key:this.key("group")},m(e))},makeItem:function(e,t){return(0,this.$createElement)("div",{class:$,key:this.key("file"+e)},m(t))},valid:function(e){if(e!==this.field)throw new Error("frame 无效的字段值")},makeIcons:function(e,t){var n=this.$createElement;if(!1!==this.handleIcon||!0===this.allowRemove){var r=[];return("file"!==this.type&&!1!==this.handleIcon||"file"===this.type&&this.handleIcon)&&r.push(this.makeHandleIcon(e,t)),this.allowRemove&&r.push(this.makeRemoveIcon(e,t)),n("div",{class:P,key:this.key("uc")},[r])}},makeHandleIcon:function(e,t){var n=this;return(0,this.$createElement)("AIcon",{attrs:{type:!0===this.handleIcon||void 0===this.handleIcon?"eye-o":this.handleIcon},on:{click:function(){return n.handleClick(e)}},key:this.key("hi"+t)})},makeRemoveIcon:function(e,t){var n=this;return(0,this.$createElement)("AIcon",{attrs:{type:"delete"},on:{click:function(){return n.handleRemove(e)}},key:this.key("ri"+t)})},makeFiles:function(){var e=this,t=this.$createElement;return this.makeGroup(this.fileList.map(function(n,r){return e.makeItem(r,[t("AIcon",{attrs:{type:"file"},on:{click:function(){return e.handleClick(n)}}}),e.makeIcons(n,r)])}))},makeImages:function(){var e=this,t=this.$createElement;return this.makeGroup(this.fileList.map(function(n,r){return e.makeItem(r,[t("img",{attrs:{src:e.getSrc(n)}}),e.makeIcons(n,r)])}))},makeBtn:function(){var e=this,t=this.$createElement;return t("div",{class:x,on:{click:function(){return e.showModel()}},key:this.key("btn")},[t("AIcon",{attrs:{type:this.icon,theme:"filled"}})])},handleClick:function(e){if(!this.disabled)return this.onHandle(e)},handleRemove:function(e){this.disabled||!1!==this.onBeforeRemove(e)&&(this.fileList.splice(this.fileList.indexOf(e),1),this.onRemove(e))},getSrc:function(e){return t.isUndef(this.srcKey)?e:e[this.srcKey]},frameLoad:function(e){var t=this;this.onLoad(e);try{!0===this.helper&&(e.form_create_helper={close:function(e){t.valid(e),t.closeModel()},set:function(e,n){t.valid(e),t.disabled||t.$emit("input",n)},get:function(e){return t.valid(e),t.value},onOk:function(e){return t.$on("$ok",e)},onClose:function(e){return t.$on("$close",e)}})}catch(e){console.log(e)}},makeFooter:function(){var e=this,t=this.$createElement,n=this.$props,r=n.okBtnText,i=n.closeBtnText,o=n.closeBtn,a=n.okBtn,s=[];return n.footer?(o&&s.push(t("AButton",{on:{click:function(){return!1!==e.onCancel()&&e.closeModel(!0)}}},[i])),a&&s.push(t("AButton",{attrs:{type:"primary"},on:{click:function(){return!1!==e.onOk()&&e.closeModel()}}},[r])),s):s}},render:function(){var e,t=this,n=arguments[0],r=this.type;e="input"===r?this.makeInput():"image"===r?this.makeImages():this.makeFiles();var i=this.$props,o=i.width,a=void 0===o?"30%":o,s=i.height,u=i.src,l=i.title,f=i.modalTitle;return this.$nextTick(function(){t.$refs.frame&&t.frameLoad(t.$refs.frame.contentWindow||{})}),n("div",[e,n("aModal",{attrs:{mask:this.previewMask,title:f,footer:null},model:{value:t.previewVisible,callback:function(e){t.previewVisible=e}}},[n("img",{attrs:{alt:"example",src:this.previewImage},style:"width: 100%"})]),n("aModal",w([{},{props:c({width:a,title:l},this.modal)},{attrs:{visible:this.frameVisible},on:{cancel:function(){return t.closeModel(!0)}}}]),[this.frameVisible||!this.reload?n("iframe",{ref:"frame",attrs:{src:u,frameborder:"0"},style:{height:s,border:"0 none",width:"100%"}}):null,n("div",{slot:"footer"},[this.makeFooter()])])])}},{name:"fc-antd-group",props:{rule:Object,rules:Array,expand:Number,button:{type:Boolean,default:!0},formCreate:Object,max:{type:Number,default:0},min:{type:Number,default:0},value:{type:Array,default:function(){return[]}},disabled:{type:Boolean,default:!1},fontSize:{type:Number,default:28}},data:function(){return{option:t.deepExtendArgs({},this.formCreate.config||{},{submitBtn:!1,resetBtn:!1,mounted:void 0,onReload:void 0}),len:0,cacheRule:{},group$f:{}}},computed:{formRule:function(){return this.rule?[this.rule]:this.rules?this.rules:[]}},watch:{disabled:function(e){var t=this.group$f;Object.keys(t).forEach(function(n){t[n].disabled(e)})},value:{handler:function(e){var t=this,n=Object.keys(this.cacheRule),r=n.length,i=r-e.length;if(i<0){for(var o=i;o<0;o++)this.addRule();for(var a=0;a<r;a++)this.setValue(this.group$f[n[a]],e[a])}else{if(i>0){for(var s=0;s<i;s++)this.removeRule(n[r-s-1]);this.subForm()}e.forEach(function(r,i){t.setValue(t.group$f[n[i]],e[i])})}},deep:!0}},methods:{formData:function(){var e=this,t=Object.keys(this.group$f).map(function(t){return e.group$f[t].formData()});this.$emit("input",t),this.$emit("change",t)},setValue:function(e,t){if(this.rule){var n=e.fields();if(!n[0])return;e.setValue(n[0],t)}else e.setValue(t)},addRule:function(e){var t=this,n=this.copyRule();this.$set(this.cacheRule,++this.len,n),e&&this.$nextTick(function(){return t.$emit("add",n,Object.keys(t.cacheRule).length-1)})},add$f:function(e,t,n){this.group$f[t]=n,this.setValue(n,this.value[e]),this.subForm(),this.$emit("itemMounted",n,Object.keys(this.cacheRule).indexOf(t)),this.formData()},subForm:function(){var e=this;this.$emit("fc.subForm",Object.keys(this.group$f).map(function(t){return e.group$f[t]}))},removeRule:function(e,t){var n=this,r=Object.keys(this.cacheRule).indexOf(e);this.$delete(this.cacheRule,e),this.$delete(this.group$f,e),t&&this.$nextTick(function(){return n.$emit("remove",r)})},copyRule:function(){return n.copyRules(this.formRule)},add:function(){!this.disabled&&this.addRule(!0)},del:function(e){this.disabled||(this.removeRule(e,!0),this.subForm(),this.formData())},addIcon:function(e){return(0,this.$createElement)("AIcon",{key:"a".concat(e),attrs:{type:"plus-circle"},style:"font-size:".concat(this.fontSize,"px;cursor:").concat(this.disabled?"not-allowed;color:#c9cdd4":"pointer",";"),on:{click:this.add}})},delIcon:function(e){var t=this;return(0,this.$createElement)("AIcon",{key:"d".concat(e),attrs:{type:"minus-circle"},style:"font-size:".concat(this.fontSize,"px;cursor:").concat(this.disabled?"not-allowed;color:#c9cdd4":"pointer;color:#606266",";"),on:{click:function(){return t.del(e)}}})},makeIcon:function(e,t,n){var r=this;return this.$scopedSlots.button?this.$scopedSlots.button({total:e,index:t,vm:this,key:n,del:function(){return r.del(n)},add:this.add}):0===t?[0!==this.max&&e>=this.max?null:this.addIcon(n),0===this.min||e>this.min?this.delIcon(n):null]:t>=this.min?this.delIcon(n):void 0},emitEvent:function(e,t,n,r){this.$emit.apply(this,[e].concat(m(t),[this.group$f[r],n]))}},created:function(){var e=(this.expand||0)-this.value.length;if(e>0)for(var t=0;t<e;t++)this.value.push({});for(var n=0;n<this.value.length;n++)this.addRule()},render:function(){var e=this,t=arguments[0],n=Object.keys(this.cacheRule),r=this.button;return 0===n.length?this.$scopedSlots.default?this.$scopedSlots.default({vm:this,add:this.add}):t("AIcon",{key:"a_def",attrs:{type:"plus-circle"},style:"font-size:".concat(this.fontSize,"px;vertical-align:middle;color:").concat(this.disabled?"#c9cdd4;cursor: not-allowed":"#606266;cursor:pointer",";"),on:{click:this.add}}):t("div",{key:"con"},[n.map(function(i,o){var a=e.cacheRule[i];return t("ARow",{attrs:{align:"middle",type:"flex"},key:i,style:"background-color:#f5f7fa;padding:10px;border-radius:5px;margin-bottom:10px;"},[t("ACol",{attrs:{span:r?20:24}},[t("FormCreate",{on:{change:e.formData,"on-reload":e.formData,"set-value":e.formData,"emit-event":function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return e.emitEvent(t,r,o,i)},mounted:function(t){return e.add$f(o,i,t)}},attrs:{rule:a,option:e.option}})]),r?t("ACol",{attrs:{span:2,pull:1,push:1}},[e.makeIcon(n.length,o,i)]):null])})])}}],j={date:"YYYY-MM-DD",month:"YYYY-MM",week:"YYYY-wo",range:"YYYY-MM-DD HH:mm:ss"},V=function(e){return-1===["date","month","week","range"].indexOf(e)?"date":e},D=function(e){return e instanceof r?e:r(e)},E=[{parser:function(e){function t(){return o(this,t),d(this,p(t).apply(this,arguments))}return f(t,n.BaseParser),s(t,[{key:"render",value:function(e){return this.vNode.checkbox(this.$render.inputVData(this).props({options:this.rule.options}),e)}}]),t}(),name:"checkbox"},{parser:function(e){function t(){return o(this,t),d(this,p(t).apply(this,arguments))}return f(t,n.BaseParser),s(t,[{key:"toFormValue",value:function(e){var t=this.getType(),n=Array.isArray(e);return"range"===t?n?e.map(function(e){return e?D(e):null}):[]:n?(e[0]?D(e[0]):null)||null:e?D(e):null}},{key:"toValue",value:function(e){var t=this.getFormat();return Array.isArray(e)?e.map(function(e){return e?e.format(t):e}):e?e.format(t):e}},{key:"getFormat",value:function(){return this.rule.props.format||(this.el?this.el.format:"")||j[V(this.rule.props.type)]}},{key:"getType",value:function(){return V(this.rule.props.type)}},{key:"render",value:function(e){var t=this.getType()+"Picker";return this.vNode[t](this.$render.inputVData(this),[e])}}]),t}(),name:"datePicker"},{parser:function(e){function t(){return o(this,t),d(this,p(t).apply(this,arguments))}return f(t,n.BaseParser),s(t,[{key:"render",value:function(e){var t=this.$render.inputVData(this).props("field",this.field);return this.vNode.frame(t,e)}},{key:"closeModel",value:function(){this.el.closeModel&&this.el.closeModel()}}]),t}(),name:"frame"},{parser:function(e){function t(){return o(this,t),d(this,p(t).apply(this,arguments))}return f(t,n.BaseParser),s(t,[{key:"render",value:function(){return[]}}]),t}(),name:"hidden"},{parser:function(e){function t(){return o(this,t),d(this,p(t).apply(this,arguments))}return f(t,n.BaseParser),s(t,[{key:"render",value:function(e){var t=this.rule.props.type;-1===["textarea","search"].indexOf(t)&&(t="input");var n="textarea"===t?"ATextarea":"search"===t?"AInputSearch":"AInput";return this.vNode.make(n,this.$render.inputVData(this),[e])}}]),t}(),name:"input"},{parser:function(e){function t(){return o(this,t),d(this,p(t).apply(this,arguments))}return f(t,n.BaseParser),s(t,[{key:"render",value:function(e){return this.vNode.radio(this.$render.inputVData(this).props({options:this.rule.options}),e)}}]),t}(),name:"radio"},{parser:function(e){function r(){return o(this,r),d(this,p(r).apply(this,arguments))}return f(r,n.BaseParser),s(r,[{key:"render",value:function(e){return this.vNode.select(this.$render.inputVData(this).props("options",this.rule.options),e)}},{key:"toFormValue",value:function(e){return t.isUndef(e)?void 0:e}}]),r}(),name:"select"},{parser:function(e){function t(){return o(this,t),d(this,p(t).apply(this,arguments))}return f(t,n.BaseParser),s(t,[{key:"toFormValue",value:function(e){return e?(t=e,n=this.getFormat(),t instanceof r?t:r(t,n)):null;var t,n}},{key:"toValue",value:function(e){return e?e.format(this.getFormat()):e}},{key:"getFormat",value:function(){return this.rule.props.format||(this.el?this.el.format:"")||"HH:mm:ss"}}]),t}(),name:"timePicker"},{parser:function(e){function t(e,n,r){var i;o(this,t),(i=d(this,p(t).call(this,e,n,r))).modelEvent="check";var a=i.rule.props;return a.replaceFields?a.replaceFields.key||(a.replaceFields.key="id"):a.replaceFields={key:"id"},i}return f(t,n.BaseParser),s(t,[{key:"render",value:function(e){var t=this.$render.inputVData(this).props("checkedKeys",this.$handle.getFormData(this)).props("checkable",!0).get();return this.vNode.tree(t,[e])}}]),t}(),name:"tree"},{parser:function(e){function r(){return o(this,r),d(this,p(r).apply(this,arguments))}return f(r,n.BaseParser),s(r,[{key:"render",value:function(e){var t=this,n=this.$render.inputVData(this).get();return this.vNode.upload({props:c({},n.props,{ctx:n,children:e,value:this.$handle.getFormData(this)}),on:{input:function(e){t.$render.onInput(t,e)}}})}},{key:"toFormValue",value:function(e){return t.toArray(e)}},{key:"toValue",value:function(e){return 1===this.rule.props.limit?e[0]||"":e}}]),r}(),name:"upload"}],L=void 0;var M=function(e){function r(){return o(this,r),d(this,p(r).apply(this,arguments))}return f(r,n.BaseForm),s(r,[{key:"inputVData",value:function(e){!e.rule.props.size&&this.options.form.size&&e.vData.props("size",this.options.form.size)}},{key:"validate",value:function(e){this.getFormRef().validate(function(t){e&&e(t)})}},{key:"validateField",value:function(e,t){this.getFormRef().validateField(e,t)}},{key:"resetField",value:function(e){this.vm.$refs[e.formItemRefName].resetField()}},{key:"clearValidateState",value:function(e){var t=this.vm.$refs[e.formItemRefName];t&&(t.validateMessage="",t.validateState="")}},{key:"beforeRender",value:function(){this.propsData=this.vData.props(this.options.form).props({model:this.$handle.formData,rules:this.$handle.validate,key:"form"+this.unique}).ref(this.refName).nativeOn({submit:t.preventDefault}).class(this.options.form.className).class("form-create",!0).key(this.unique).get()}},{key:"render",value:function(e){return e.length>0&&e.push(this.makeFormBtn()),this.vNode.form(this.propsData,[!1===this.options.row?e:this.makeRow(e)])}},{key:"makeRow",value:function(e){var t={},n=this.options.row||{};return n.class&&(t[n.class]=!0),this.vNode.row({props:n||{},key:"fr"+this.unique,class:t},e)}},{key:"container",value:function(e,t){return this.makeFormItem(t,e)}},{key:"getItemCol",value:function(e,t){var n=this.getGetCol(e,t);return Object.keys(n).length?n:void 0}},{key:"makeFormItem",value:function(e,t){var n="fItem".concat(e.key).concat(this.unique),r="vertical"===this.propsData.props.layout,i=e.rule,o=e.field,a=e.formItemRefName,s=this.getGetCol(e),u=this.propsData.props,l=u.layout,c=u.col,f=this.vData.props({prop:o,labelCol:r?{}:this.getItemCol(e,"labelCol"),wrapperCol:r?{}:this.getItemCol(e,"wrapperCol"),rules:i.validate,required:i.props.required}).key(n).ref(a).class(i.className).get(),p=this.vNode.formItem(f,[t,this.makeFormPop(e,n)]);return"inline"===l||!1===c?p:this.makeCol(s,e,n,[p])}},{key:"makeFormPop",value:function(e,n){var r=e.rule;if(r.title){var i=t.isString(r.title)?{title:r.title}:r.title,o=this.options.info||{},a=[i.title||""],s=function(e){return"tooltip"===e.type}(o);return r.info&&a.push(this.vNode.make(s?"ATooltip":"APopover",{props:c({},o,u({},s?"title":"content",r.info)),key:"pop".concat(n)},[this.vNode.icon({props:{type:o.icon||"question-circle-o",size:16}})])),this.vNode.make("span",c({},i,{slot:"label"}),a)}}},{key:"makeCol",value:function(e,t,n,r){var i;void 0===e.span&&(e.span=24);var o=(u(i={},F,!!t.rule.hidden),u(i,I,!!t.rule.visibility),i);return e.class&&(o[e.class]=!0),this.vNode.col({props:e,class:o,key:"".concat(n,"col1")},r)}},{key:"makeFormBtn",value:function(){var e=[],t=!1!==this.vm.buttonProps&&!1!==this.vm.buttonProps.show,n=!1!==this.vm.resetProps&&!1!==this.vm.resetProps.show;return t&&e.push(this.makeSubmitBtn(n?19:24)),n&&e.push(this.makeResetBtn(4)),"inline"===this.propsData.props.layout?e:e.length?this.vNode.col({props:{span:24},key:"".concat(this.unique,"col2")},e):[]}},{key:"makeResetBtn",value:function(e){var n=this,r=this.vm.resetProps,i=r.col||{span:e,push:1};return this.vNode.col({props:i,key:"".concat(this.unique,"col3")},[this.vNode.button({key:"frsbtn".concat(this.unique),props:r,on:{click:function(){var e=n.$handle.fCreateApi;t.isFunction(r.click)?r.click(e):e.resetFields()}}},[r.innerText])])}},{key:"makeSubmitBtn",value:function(e){var n=this,r=this.vm.buttonProps,i=r.col||{span:e};return this.vNode.col({props:i,key:"".concat(this.unique,"col4")},[this.vNode.button({key:"fbtn".concat(this.unique),props:r,on:{click:function(){var e=n.$handle.fCreateApi;t.isFunction(r.click)?r.click(e):e.submit()}}},[r.innerText])])}}]),r}(),_=["date","month","week"].reduce(function(e,t){return e[t]=n.creatorTypeFactory("datePicker",t),e},{dateRange:n.creatorTypeFactory("datePicker","range"),datetimeRange:n.creatorTypeFactory("datePicker",function(e){return e.props({type:"range",showTime:!0})})}),q={frameInputs:["input",0],frameFiles:["file",0],frameImages:["image",0],frameInputOne:["input",1],frameFileOne:["file",1],frameImageOne:["image",1]},z=Object.keys(q).reduce(function(e,t){return e[t]=n.creatorTypeFactory("frame",function(e){return e.props({type:q[t][0],maxLength:q[t][1]})}),e},{});z.frameInput=z.frameInputs,z.frameFile=z.frameFiles,z.frameImage=z.frameImages;var Y=["password","url","email","text","textarea","search"].reduce(function(e,t){return e[t]=n.creatorTypeFactory("input",t),e},{});Y.idate=n.creatorTypeFactory("input","date");var H={selectMultiple:n.creatorTypeFactory("select","multiple","mode"),selectTags:n.creatorTypeFactory("select","tags","mode"),selectCombobox:n.creatorTypeFactory("select","combobox","mode")},G={sliderRange:n.creatorTypeFactory("slider",!0,"range")},U={image:["image",0],file:["file",0],uploadFileOne:["file",1],uploadImageOne:["image",1]},K=Object.keys(U).reduce(function(e,t){return e[t]=n.creatorTypeFactory("upload",function(e){return e.props({uploadType:U[t][0],maxLength:U[t][1]})}),e},{});K.uploadImage=K.image,K.uploadFile=K.file;var W=c({},_,{},z,{},Y,{},H,{},G,{},K);["autoComplete","cascader","datePicker","frame","inputNumber","radio","rate","switch","rate","slider","timePicker","group"].forEach(function(e){W[e]=n.creatorFactory(e)}),W.auto=W.autoComplete,W.number=W.inputNumber,W.time=W.timePicker,W.hidden=function(e,t){return n.creatorFactory("hidden")("",e,t)};var J={input:"change.value",switch:{prop:"checked",event:"change"}};["autoComplete","cascader","inputNumber","rate","slider","change","timePicker","datePicker","select"].forEach(function(e){return J[e]="change"}),n.VNode.use({button:"a-button",icon:"a-icon",slider:"a-slider",rate:"a-rate",upload:"fc-antd-update",cascader:"a-cascader",timePicker:"a-time-picker",datePicker:"a-date-picker",rangePicker:"a-range-picker",weekPicker:"a-week-picker",monthPicker:"a-month-picker",switch:"a-switch",select:"a-select",checkbox:"a-checkbox-group",radio:"a-radio-group",inputNumber:"a-input-number",search:"a-input-search",textarea:"a-textarea",formItem:"a-form-model-item",form:"a-form-model",frame:"fc-antd-frame",col:"a-col",row:"a-row",tree:"a-tree",autoComplete:"a-auto-complete",group:"fc-antd-group"});var Q=i({ui:"ant-design-vue",version:"".concat("1.0.20"),formRender:M,components:T,parsers:E,makers:W,getConfig:function(){return{form:{hideRequiredMark:!1,layout:"horizontal",labelAlign:"right",labelCol:{span:4},wrapperCol:{span:20},colon:L,validateOnRuleChange:!0},row:{gutter:0,type:L,align:L,justify:L},info:{type:"popover",placement:"topLeft",icon:"question-circle-o"},submitBtn:{disabled:!1,ghost:!1,icon:"upload",loading:!1,shape:L,size:L,type:"primary",block:!0,innerText:"提交",htmlType:L,show:!0,col:L,click:L},resetBtn:{disabled:!1,ghost:!1,icon:"sync",loading:!1,shape:L,size:L,type:"default",block:!0,innerText:"重置",htmlType:L,show:!1,col:L,click:L}}},modelEvents:J}),X=Q.FormCreate,Z=Q.install;"undefined"!=typeof window&&(window.formCreate=X,window.Vue&&Z(window.Vue));var ee=X.maker;e.default=X,e.maker=ee,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=form-create.min.js.map
